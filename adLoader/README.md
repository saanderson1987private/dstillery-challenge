# Ad Loader

To run, just simply load in your browser the `index.html` file included in this folder.

The first thing I had to do for this problem was to make sure I had a page with enough content that the page would require scrolling. I was thinking I could get some content and then have it repeat a number of times to ensure the the page would require scrolling. When I thought 'repeated content', for some reason a scene in *The Shining* popped in my head: the one where Jack's wife finds the manuscript he's been working so hard on all winter and discovers it's all the same line of text repeated over and over for pages and pages. I thought that would be funny to put on the web page. To continue the theme, I chose images of the book, the movie, and a shirt to serve as the ads.

The content is made up of three differently formatted parts which constitute a section, which is then repeated 40 times. Each part has an image container that references an image listed in the `images` object, a list of images on the page. The image tag in the image container does not contain a `src` attribute-- this is what keeps the browser from loading the image. However, when the user scrolls to the image container, the `src` attribute is set to the appropriate URL, which is found by matching the image's class, which carries the image name, to its `src` url in the `images` object. In my implementation, the function `loadImage` not only sets the `src` of the image of the element in question, but all elements in that image's class. I've implemented this because I have assigned each repeating section the same images. This ensures that the same image does not have to have its `src` set repeatedly. Note that even if the `src` were set of these elements at different times, this would not cause re-loading because that image URL will have already be in the browser's cache up after it' first loaded. I have purposely encoded the image's name into the class for this purpose. The function could easily be modified to set the `src` of a single element based on, for example, a dataset attribute of the element.

To register event of a user scrolling to an element, I created a function called `onView`, which takes as its arguments an element and a function to be called when the event happens. When the window is loaded, resized, or scrolled, the function checks to see if the element in question is present in the window by comparing the distance between the top of the window and the top of the element and the height of the window. If the distance is less than or equal to the window height, it means the element is viewable in the window and the callback function is invoked.
